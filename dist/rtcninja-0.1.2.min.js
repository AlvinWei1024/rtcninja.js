/*
 * rtcninja.js v0.1.2
 * WebRTC API wrapper to deal with different browsers
 * Copyright 2014-2015 IÃ±aki Baz Castillo <ibc@aliax.net>
 * License ISC
 */

!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.rtcninja=e()}}(function(){var e;return function t(e,n,i){function o(a,s){if(!n[a]){if(!e[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(r)return r(a,!0);var d=new Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){var n=e[a][1][t];return o(n?n:t)},l,l.exports,t,e,n,i)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(e,t){(function(n){function i(e){function t(e){return function(){throw new Error("rtcninja: WebRTC not supported, missing "+e+" [browser: "+o.name+" "+o.version+"]")}}if(r("detected browser: %s %s [mobile:%s, tablet:%s, android:%s, ios:%s]",o.name,o.version,!!o.mobile,!!o.tablet,!!o.android,!!o.ios),g&&o.chrome&&f>=32||o.android&&o.chrome&&f>=39||g&&o.opera&&f>=27||o.android&&o.opera&&f>=24||o.android&&o.webkit&&!o.chrome&&f>=37||navigator.webkitGetUserMedia&&n.webkitRTCPeerConnection)s=navigator.webkitGetUserMedia.bind(navigator),c=n.webkitRTCPeerConnection,d=n.RTCSessionDescription,l=n.RTCIceCandidate,u=n.MediaStreamTrack,p=function(e,t){return e.src=URL.createObjectURL(t),e};else if(g&&o.firefox&&f>=22||o.android&&o.firefox&&f>=33||navigator.mozGetUserMedia&&n.mozRTCPeerConnection)s=navigator.mozGetUserMedia.bind(navigator),c=n.mozRTCPeerConnection,d=n.mozRTCSessionDescription,l=n.mozRTCIceCandidate,u=n.MediaStreamTrack,p=function(e,t){return e.src=URL.createObjectURL(t),e};else if((o.msie||o.safari)&&e.TemasysPlugin&&e.TemasysPlugin(e.TemasysPluginOptions)){var m=e.TemasysPlugin;s=m.getUserMedia,c=m.RTCPeerConnection,d=m.RTCSessionDescription,l=m.RTCIceCandidate,u=m.MediaStreamTrack,p=m.attachMediaStream}else navigator.getUserMedia&&n.RTCPeerConnection&&(s=navigator.getUserMedia.bind(navigator),c=n.RTCPeerConnection,d=n.RTCSessionDescription,l=n.RTCIceCandidate,u=n.MediaStreamTrack,p=n.attachMediaStream||function(e,t){return e.src=URL.createObjectURL(t),e});return i.hasWebRTC=!!(s&&c&&d&&l),i.getUserMedia=s?function(e,t,n){r("getUserMedia() | constraints:",e);try{s(e,function(e){r("getUserMedia() | success"),t&&t(e)},function(e){r("getUserMedia() | error:",e),n&&n(e)})}catch(i){a("getUserMedia() | error:",i),n&&n(i)}}:function(e,n,i){a("getUserMedia() | WebRTC not supported"),i?i(new Error("rtcninja: WebRTC not supported, missing getUserMedia [browser: "+o.name+" "+o.version+"]")):t("getUserMedia")},i.RTCPeerConnection=c||t("RTCPeerConnection"),i.RTCSessionDescription=d||t("RTCSessionDescription"),i.RTCIceCandidate=l||t("RTCIceCandidate"),i.MediaStreamTrack=u||t("MediaStreamTrack"),i.attachMediaStream=p||t("attachMediaStream"),i.closeMediaStream=function(e){if(e){var t=n.MediaStreamTrack;if(t&&t.prototype&&t.prototype.stop){r("closeMediaStream() | calling stop() on all the MediaStreamTrack");var i,o,a;if(t.prototype.getTracks)for(i=e.getTracks(),o=0,a=i.length;a>o;o++)i[o].stop();else{for(i=e.getAudioTracks(),o=0,a=i.length;a>o;o++)i[o].stop();for(i=e.getVideoTracks(),o=0,a=i.length;a>o;o++)i[o].stop()}}else"function"==typeof e.stop&&(r("closeMediaStream() | calling stop() on the MediaStream"),e.stop())}},i.fixPeerConnectionConfig=function(e){Array.isArray(e.iceServers)||(e.iceServers=[]);for(var t=0,n=e.iceServers.length;n>t;t++){var i=e.iceServers[t],o=i.hasOwnProperty("urls"),r=i.hasOwnProperty("url");"object"==typeof i&&(o&&!r?i.url=Array.isArray(i.urls)?i.urls[0]:i.urls:!o&&r&&(i.urls=Array.isArray(i.url)?i.url.slice():i.url),r&&Array.isArray(i.url)&&(i.url=i.url[0]))}},i}t.exports=i;var o=e("bowser").browser,r=e("debug")("rtcninja:Adapter"),a=e("debug")("rtcninja:ERROR:Adapter");a.log=console.warn.bind(console);var s=null,c=null,d=null,l=null,u=null,p=null,f=Number(o.version)||0,g=!(o.mobile&&o.tablet)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{bowser:5,debug:6}],2:[function(e,t){function n(e,t){c("new | original configuration:",e),i.call(this,e),c("new | processed configuration:",this.configuration),this.pc=new l.RTCPeerConnection(this.configuration,t),this._localDescription=null,this._signalingState=null,this._iceConnectionState=null,this._iceGatheringState=null,this.timerGatheringTimeoutAfterRelay=null,this.ignoreIceGathering=!1,this.closed=!1,o.call(this),r.call(this)}function i(e){this.configuration=s(!0,e),l.fixPeerConnectionConfig(this.configuration),this.options={iceTransportsRelay:"relay"===this.configuration.iceTransports,iceTransportsNone:"none"===this.configuration.iceTransports,gatheringTimeoutAfterRelay:this.configuration.gatheringTimeoutAfterRelay},delete this.configuration.gatheringTimeoutAfterRelay}function o(){var e=this,t=this.pc;Object.defineProperties(this,{peerConnection:{get:function(){return t}},signalingState:{get:function(){return t.signalingState}},iceConnectionState:{get:function(){return t.iceConnectionState}},iceGatheringState:{get:function(){return t.iceGatheringState}},localDescription:{get:function(){return a.call(e)}},remoteDescription:{get:function(){return t.remoteDescription}},peerIdentity:{get:function(){return t.peerIdentity}}})}function r(){var e=this,t=this.pc;t.onnegotiationneeded=function(t){e.closed||(c("onnegotiationneeded()"),e.onnegotiationneeded&&e.onnegotiationneeded(t))},t.onicecandidate=function(t){if(!e.closed&&!e.ignoreIceGathering&&!e.options.iceTransportsNone){var n=t.candidate;if(n){var i=u.REGEXP_RELAY_CANDIDATE.test(n.candidate);if(e.options.iceTransportsRelay&&!i)return;i&&!e.timerGatheringTimeoutAfterRelay&&"number"==typeof e.options.gatheringTimeoutAfterRelay&&(c("onicecandidate() | first relay candidate found, ending gathering in %d ms",e.options.gatheringTimeoutAfterRelay),e.timerGatheringTimeoutAfterRelay=setTimeout(function(){e.closed||(c("forced end of candidates after timeout"),delete e.timerGatheringTimeoutAfterRelay,e.ignoreIceGathering=!0,e.onicecandidate&&e.onicecandidate(t,null))},e.options.gatheringTimeoutAfterRelay));var o=new l.RTCIceCandidate({sdpMid:n.sdpMid,sdpMLineIndex:n.sdpMLineIndex,candidate:n.candidate});null===p.normalizeCandidate&&(u.REGEXP_NORMALIZED_CANDIDATE.test(n.candidate)?p.normalizeCandidate=!1:(c('onicecandidate() | normalizing ICE candidates syntax (remove "a=" and "\\r\\n")'),p.normalizeCandidate=!0)),p.normalizeCandidate&&(o.candidate=n.candidate.replace(u.REGEXP_FIX_CANDIDATE,"")),c("onicecandidate() | m%d(%s) %s",o.sdpMLineIndex,o.sdpMid||"no mid",o.candidate),e.onicecandidate&&e.onicecandidate(t,o)}else c("onicecandidate() | end of candidates"),clearTimeout(e.timerGatheringTimeoutAfterRelay),delete e.timerGatheringTimeoutAfterRelay,e.onicecandidate&&e.onicecandidate(t,null)}},t.onaddstream=function(t){e.closed||(c("onaddstream() | stream:",t.stream),e.onaddstream&&e.onaddstream(t,t.stream))},t.onremovestream=function(t){e.closed||(c("onremovestream() | stream:",t.stream),e.onremovestream&&e.onremovestream(t,t.stream))},t.ondatachannel=function(t){e.closed||(c("ondatachannel()"),e.ondatachannel&&e.ondatachannel(t,t.channel))},t.onsignalingstatechange=function(n){t.signalingState!==e._signalingState&&(c("onsignalingstatechange() | signalingState: %s",t.signalingState),e._signalingState=t.signalingState,e.onsignalingstatechange&&e.onsignalingstatechange(n,t.signalingState))},t.oniceconnectionstatechange=function(n){t.iceConnectionState!==e._iceConnectionState&&(c("oniceconnectionstatechange() | iceConnectionState: %s",t.iceConnectionState),e._iceConnectionState=t.iceConnectionState,e.oniceconnectionstatechange&&e.oniceconnectionstatechange(n,t.iceConnectionState))},t.onicegatheringstatechange=function(n){e.closed||t.iceGatheringState!==e._iceGatheringState&&(c("onicegatheringstatechange() | iceGatheringState: %s",t.iceGatheringState),e._iceGatheringState=t.iceGatheringState,e.onicegatheringstatechange&&e.onicegatheringstatechange(n,t.iceGatheringState))},t.onidentityresult=function(t){e.closed||(c("onidentityresult()"),e.onidentityresult&&e.onidentityresult(t))},t.onpeeridentity=function(t){e.closed||(c("onpeeridentity()"),e.onpeeridentity&&e.onpeeridentity(t))},t.onidpassertionerror=function(t){e.closed||(c("onidpassertionerror()"),e.onidpassertionerror&&e.onidpassertionerror(t))},t.onidpvalidationerror=function(t){e.closed||(c("onidpvalidationerror()"),e.onidpvalidationerror&&e.onidpvalidationerror(t))}}function a(){var e=this.pc,t=this.options,n=null;return e.localDescription?(t.iceTransportsRelay?n=e.localDescription.sdp.replace(u.REGEXP_SDP_NON_RELAY_CANDIDATES,""):t.iceTransportsNone&&(n=e.localDescription.sdp.replace(u.REGEXP_SDP_CANDIDATES,"")),this._localDescription=new l.RTCSessionDescription({type:e.localDescription.type,sdp:n||e.localDescription.sdp}),this._localDescription):(this._localDescription=null,null)}t.exports=n;var s=e("merge"),c=e("debug")("rtcninja:Connection"),d=e("debug")("rtcninja:ERROR:Connection");d.log=console.warn.bind(console);var l=e("./Adapter"),u={REGEXP_NORMALIZED_CANDIDATE:new RegExp(/^candidate:/i),REGEXP_FIX_CANDIDATE:new RegExp(/(^a=|\r|\n)/gi),REGEXP_RELAY_CANDIDATE:new RegExp(/ relay /i),REGEXP_SDP_CANDIDATES:new RegExp(/^a=candidate:.*\r\n/gim),REGEXP_SDP_NON_RELAY_CANDIDATES:new RegExp(/^a=candidate:(.(?! relay ))*\r\n/gim)},p={normalizeCandidate:null};n.prototype.createOffer=function(e,t,n){c("createOffer()");var i=this;this.pc.createOffer(function(t){i.closed||(c("createOffer() | success"),e&&e(t))},function(e){i.closed||(d("createOffer() | error:",e),t&&t(e))},n)},n.prototype.createAnswer=function(e,t,n){c("createAnswer()");var i=this;this.pc.createAnswer(function(t){i.closed||(c("createAnswer() | success"),e&&e(t))},function(e){i.closed||(d("createAnswer() | error:",e),t&&t(e))},n)},n.prototype.setLocalDescription=function(e,t,n){c("setLocalDescription()");var i=this;this.pc.setLocalDescription(e,function(){i.closed||(c("setLocalDescription() | success"),t&&t())},function(e){i.closed||(d("setLocalDescription() | error:",e),n&&n(e))}),this.ignoreIceGathering=!1},n.prototype.setRemoteDescription=function(e,t,n){c("setRemoteDescription()");var i=this;this.pc.setRemoteDescription(e,function(){i.closed||(c("setRemoteDescription() | success"),t&&t())},function(e){i.closed||(d("setRemoteDescription() | error:",e),n&&n(e))})},n.prototype.updateIce=function(e){c("updateIce() | configuration:",e),i.call(this,e),this.pc.updateIce(this.configuration),this.ignoreIceGathering=!1},n.prototype.addIceCandidate=function(e,t,n){c("addIceCandidate() | candidate:",e);var i=this;this.pc.addIceCandidate(e,function(){i.closed||(c("addIceCandidate() | success"),t&&t())},function(e){i.closed||(d("addIceCandidate() | error:",e),n&&n(e))})},n.prototype.getConfiguration=function(){return c("getConfiguration()"),this.pc.getConfiguration()},n.prototype.getLocalStreams=function(){return c("getLocalStreams()"),this.pc.getLocalStreams()},n.prototype.getRemoteStreams=function(){return c("getRemoteStreams()"),this.pc.getRemoteStreams()},n.getStreamById=function(e){c("getStreamById() | streamId:",e),this.pc.getStreamById(e)},n.prototype.addStream=function(e){c("addStream() | stream:",e),this.pc.addStream(e)},n.prototype.removeStream=function(e){c("removeStream() | stream:",e),this.pc.removeStream(e)},n.prototype.close=function(){c("close()"),this.closed=!0,clearTimeout(this.timerGatheringTimeoutAfterRelay),delete this.timerGatheringTimeoutAfterRelay,this.pc.close()},n.prototype.createDataChannel=function(){return c("createDataChannel()"),this.pc.createDataChannel.apply(this.pc,arguments)},n.prototype.createDTMFSender=function(e){return c("createDTMFSender()"),this.pc.createDTMFSender(e)},n.prototype.getStats=function(){return c("getStats()"),this.pc.getStats.apply(this.pc,arguments)},n.prototype.setIdentityProvider=function(){return c("setIdentityProvider()"),this.pc.setIdentityProvider.apply(this.pc,arguments)},n.prototype.getIdentityAssertion=function(){return c("getIdentityAssertion()"),this.pc.getIdentityAssertion()}},{"./Adapter":1,debug:6,merge:9}],3:[function(e,t){function n(t){i("version %s",r);var s=e("./Adapter")(t||{});return n.Connection=a,n.hasWebRTC=s.hasWebRTC,n.getUserMedia=s.getUserMedia,n.RTCPeerConnection=s.RTCPeerConnection,n.RTCSessionDescription=s.RTCSessionDescription,n.RTCIceCandidate=s.RTCIceCandidate,n.MediaStreamTrack=s.MediaStreamTrack,n.attachMediaStream=s.attachMediaStream,n.closeMediaStream=s.closeMediaStream,s.hasWebRTC?(i("WebRTC supported"),!0):(o("WebRTC not supported"),!1)}t.exports=n;var i=e("debug")("rtcninja"),o=e("debug")("rtcninja:ERROR");o.log=console.warn.bind(console);var r=e("./version"),a=e("./Connection");Object.defineProperty(n,"version",{get:function(){return r}}),n.debug=e("debug")},{"./Adapter":1,"./Connection":2,"./version":4,debug:6}],4:[function(e,t){t.exports="0.1.2"},{}],5:[function(t,n){!function(t,i){"undefined"!=typeof n&&n.exports?n.exports.browser=i():"function"==typeof e&&e.amd?e(i):this[t]=i()}("bowser",function(){function e(e){function n(t){var n=e.match(t);return n&&n.length>1&&n[1]||""}var i,o=n(/(ipod|iphone|ipad)/i).toLowerCase(),r=/like android/i.test(e),a=!r&&/android/i.test(e),s=n(/version\/(\d+(\.\d+)?)/i),c=/tablet/i.test(e),d=!c&&/[^-]mobi/i.test(e);/opera|opr/i.test(e)?i={name:"Opera",opera:t,version:s||n(/(?:opera|opr)[\s\/](\d+(\.\d+)?)/i)}:/windows phone/i.test(e)?i={name:"Windows Phone",windowsphone:t,msie:t,version:n(/iemobile\/(\d+(\.\d+)?)/i)}:/msie|trident/i.test(e)?i={name:"Internet Explorer",msie:t,version:n(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:/chrome|crios|crmo/i.test(e)?i={name:"Chrome",chrome:t,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:o?(i={name:"iphone"==o?"iPhone":"ipad"==o?"iPad":"iPod"},s&&(i.version=s)):/sailfish/i.test(e)?i={name:"Sailfish",sailfish:t,version:n(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(e)?i={name:"SeaMonkey",seamonkey:t,version:n(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel/i.test(e)?(i={name:"Firefox",firefox:t,version:n(/(?:firefox|iceweasel)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(e)&&(i.firefoxos=t)):/silk/i.test(e)?i={name:"Amazon Silk",silk:t,version:n(/silk\/(\d+(\.\d+)?)/i)}:a?i={name:"Android",version:s}:/phantom/i.test(e)?i={name:"PhantomJS",phantom:t,version:n(/phantomjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(e)||/rim\stablet/i.test(e)?i={name:"BlackBerry",blackberry:t,version:s||n(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:/(web|hpw)os/i.test(e)?(i={name:"WebOS",webos:t,version:s||n(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(e)&&(i.touchpad=t)):i=/bada/i.test(e)?{name:"Bada",bada:t,version:n(/dolfin\/(\d+(\.\d+)?)/i)}:/tizen/i.test(e)?{name:"Tizen",tizen:t,version:n(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||s}:/safari/i.test(e)?{name:"Safari",safari:t,version:s}:{},/(apple)?webkit/i.test(e)?(i.name=i.name||"Webkit",i.webkit=t,!i.version&&s&&(i.version=s)):!i.opera&&/gecko\//i.test(e)&&(i.name=i.name||"Gecko",i.gecko=t,i.version=i.version||n(/gecko\/(\d+(\.\d+)?)/i)),a||i.silk?i.android=t:o&&(i[o]=t,i.ios=t);var l="";o?(l=n(/os (\d+([_\s]\d+)*) like mac os x/i),l=l.replace(/[_\s]/g,".")):a?l=n(/android[ \/-](\d+(\.\d+)*)/i):i.windowsphone?l=n(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):i.webos?l=n(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):i.blackberry?l=n(/rim\stablet\sos\s(\d+(\.\d+)*)/i):i.bada?l=n(/bada\/(\d+(\.\d+)*)/i):i.tizen&&(l=n(/tizen[\/\s](\d+(\.\d+)*)/i)),l&&(i.osversion=l);var u=l.split(".")[0];return c||"ipad"==o||a&&(3==u||4==u&&!d)||i.silk?i.tablet=t:(d||"iphone"==o||"ipod"==o||a||i.blackberry||i.webos||i.bada)&&(i.mobile=t),i.msie&&i.version>=10||i.chrome&&i.version>=20||i.firefox&&i.version>=20||i.safari&&i.version>=6||i.opera&&i.version>=10||i.ios&&i.osversion&&i.osversion.split(".")[0]>=6||i.blackberry&&i.version>=10.1?i.a=t:i.msie&&i.version<10||i.chrome&&i.version<20||i.firefox&&i.version<20||i.safari&&i.version<6||i.opera&&i.version<10||i.ios&&i.osversion&&i.osversion.split(".")[0]<6?i.c=t:i.x=t,i}var t=!0,n=e("undefined"!=typeof navigator?navigator.userAgent:"");return n._detect=e,n})},{}],6:[function(e,t,n){function i(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function o(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var i="color: "+this.color;e=[e[0],i,"color: inherit"].concat(Array.prototype.slice.call(e,1));var o=0,r=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(r=o))}),e.splice(r,0,i),e}function r(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(e){try{null==e?c.removeItem("debug"):c.debug=e}catch(t){}}function s(){var e;try{e=c.debug}catch(t){}return e}n=t.exports=e("./debug"),n.log=r,n.formatArgs=o,n.save=a,n.load=s,n.useColors=i;var c;c="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:window.localStorage,n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){return JSON.stringify(e)},n.enable(s())},{"./debug":7}],7:[function(e,t,n){function i(){return n.colors[l++%n.colors.length]}function o(e){function t(){}function o(){var e=o,t=+new Date,r=t-(d||t);e.diff=r,e.prev=d,e.curr=t,d=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=i());var a=Array.prototype.slice.call(arguments);a[0]=n.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var s=0;a[0]=a[0].replace(/%([a-z%])/g,function(t,i){if("%%"===t)return t;s++;var o=n.formatters[i];if("function"==typeof o){var r=a[s];t=o.call(e,r),a.splice(s,1),s--}return t}),"function"==typeof n.formatArgs&&(a=n.formatArgs.apply(e,a));var c=o.log||n.log||console.log.bind(console);c.apply(e,a)}t.enabled=!1,o.enabled=!0;var r=n.enabled(e)?o:t;return r.namespace=e,r}function r(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),i=t.length,o=0;i>o;o++)t[o]&&(e=t[o].replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function a(){n.enable("")}function s(e){var t,i;for(t=0,i=n.skips.length;i>t;t++)if(n.skips[t].test(e))return!1;for(t=0,i=n.names.length;i>t;t++)if(n.names[t].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=o,n.coerce=c,n.disable=a,n.enable=r,n.enabled=s,n.humanize=e("ms"),n.names=[],n.skips=[],n.formatters={};var d,l=0},{ms:8}],8:[function(e,t){function n(e){var t=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),i=(t[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"y":return n*l;case"days":case"day":case"d":return n*d;case"hours":case"hour":case"h":return n*c;case"minutes":case"minute":case"m":return n*s;case"seconds":case"second":case"s":return n*a;case"ms":return n}}}function i(e){return e>=d?Math.round(e/d)+"d":e>=c?Math.round(e/c)+"h":e>=s?Math.round(e/s)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function o(e){return r(e,d,"day")||r(e,c,"hour")||r(e,s,"minute")||r(e,a,"second")||e+" ms"}function r(e,t,n){return t>e?void 0:1.5*t>e?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,s=60*a,c=60*s,d=24*c,l=365.25*d;t.exports=function(e,t){return t=t||{},"string"==typeof e?n(e):t.long?o(e):i(e)}},{}],9:[function(e,t){!function(e){function n(e,t){if("object"!==o(e))return t;for(var i in t)e[i]="object"===o(e[i])&&"object"===o(t[i])?n(e[i],t[i]):t[i];return e}function i(e,t,i){var a=i[0],s=i.length;(e||"object"!==o(a))&&(a={});for(var c=0;s>c;++c){var d=i[c],l=o(d);if("object"===l)for(var u in d){var p=e?r.clone(d[u]):d[u];a[u]=t?n(a[u],p):p}}return a}function o(e){return{}.toString.call(e).slice(8,-1).toLowerCase()}var r=function(e){return i(e===!0,!1,arguments)},a="merge";r.recursive=function(e){return i(e===!0,!0,arguments)},r.clone=function(e){var t,n,i=e,a=o(e);if("array"===a)for(i=[],n=e.length,t=0;n>t;++t)i[t]=r.clone(e[t]);else if("object"===a){i={};for(t in e)i[t]=r.clone(e[t])}return i},e?t.exports=r:window[a]=r}("object"==typeof t&&t&&"object"==typeof t.exports&&t.exports)},{}]},{},[3])(3)});